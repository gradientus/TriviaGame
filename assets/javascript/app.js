var questions = [
  {
    question: "What was the original color of Dorothy's slippers?",
    answers: ["yes", "orange", "emerald", "silver", "ruby"],
    correct: "silver"
  },
  {
    question: "What was Toto's real name?",
    answers: ["Chris", "Terry", "Toto", "Spot", "Kitty"],
    correct: "Terry"
  },
  {
    question: "How many sequels were there to the book Wonderful Wizard of Oz?",
    answers: ["3", "0", "4", "1", "17", "4"],
    correct: "17"
  },
  {
    question: "Who wrote the Wizard of Oz series of books?",
    answers: [
      "F. Scot Fitzgerald",
      "W.C. Fields",
      "L. Frank Baum",
      "Walt Disney",
      "Anne Rice"
    ],
    correct: "L. Frank Baum"
  },
  {
    question: "What was the name of the Good Witch of the North?",
    answers: ["Bob", "Glenda", "Glinda", "Bubbles", "Almira"],
    correct: "Glinda"
  },
  {
    question: "Who starred as the Wicked Witch of the West?",
    answers: [
      "Margaret Hamilton",
      "Judy Garland",
      "Melania Trump",
      "Billie Burke",
      "Gretta Garbo"
    ],
    correct: "Margaret Hamilton"
  },
  {
    question: "What was used to simulate snow in the poppies scene?",
    answers: ["rice", "tissue paper", "feathers", "asbestos", "spit"],
    correct: "asbestos"
  },
  {
    question: "What was the name of the lead of the flying monkeys?",
    answers: ["Nikko", "Bobo", "Donald Trump", "Coco", "Hobo"],
    correct: "Nikko"
  },
  {
    question: "What was Auntie Em's full name?",
    answers: [
      "Auntie Em",
      "Emily Oz",
      "Almira Gulch",
      "Emily Gale",
      "Bag Lady"
    ],
    correct: "Emily Gale"
  },
  {
    question:
      "How did they get the horses colored in the first scene inside the Emerald City?",
    answers: ["paint", "dye", "Jello", "CGI", "brown"],
    correct: "Jello"
  },
  {
    question: "How old was Judy Garland when she starred as Dorothy?",
    answers: ["12", "14", "16", "18", "60"],
    correct: "16"
  },
  {
    question: "Why was Shirley Temple not chosen to play Dorothy?",
    answers: [
      "She was working on another movie.",
      "She didn't want to.",
      "She was too young.",
      "She was too old.",
      "Her singing voice was shit."
    ],
    correct: "Her singing voice was shit."
  },
  {
    question: "What was the species Dorothy first encounters in Oz?",
    answers: ["Quadlings", "Witches", "Wizards", "Munchkins", "Winkies"],
    correct: "Munchkins"
  },
  {
    question: "What was the species that guarded the Wicked Witch's castle?",
    answers: ["Winkies", "Munchkins", "Toadies", "Quadlings", "Farts"],
    correct: "Winkies"
  },
  {
    question: "What year was the movie released?",
    answers: ["1929", "1939", "1949", "1969", "1900"],
    correct: "1939"
  },
  {
    question: "What year was the movie first shown on TV?",
    answers: ["1922", "1938", "1956", "1960", "2007"],
    correct: "1956"
  },
  {
    question: "Who were Dorothy's companions?",
    answers: [
      "lions, tigers, bears",
      "Scarecrow, Tin Man, Cowardly Lion, Toto",
      "Munchkins, Quadlings, Witches, Warlocks",
      "Uncle Hank, Hunk, Auntie Em",
      "She had no friends."
    ],
    correct: "Scarecrow, Tin Man, Cowardly Lion, Toto"
  },
  {
    question: "What does the Wicked Witch write in the sky above Emerald City?",
    answers: [
      "Surrender the Ruby Slippers",
      "Surrender or die",
      "Surrender Dorothy",
      "Fake news",
      "Kill Dorothy"
    ],
    correct: "Surrender Dorothy"
  },
  {
    question: "Who figures out the wizard is a fraud?",
    answers: ["Dorothy", "Tin Man", "Mr. Ed", "Scarecrow", "Toto"],
    correct: "Toto"
  },
  {
    question: "What was written on the balloon when the wizrd left Oz?",
    answers: ["Goodbye", "State Fair Omaha", "Peace", "Bite me", "Oz"],
    correct: "State Fair Omaha"
  },
  {
    question: "Who was killed by Dorothy's house?",
    answers: [
      "Munhkins",
      "Some girl named Amy",
      "Wicked Witch of the West",
      "Wicked Witch of the East",
      "Mombi of the North"
    ],
    correct: "Wicked Witch of the East"
  },
  {
    question: "Who played Dorothy in the awful 1985 Return to Oz sequel?",
    answers: [
      "Liza Minelli",
      "Fairuza Balk",
      "Soleil Moon Frye",
      "Blossom Russo",
      "Tina Turner"
    ],
    correct: "Fairuza Balk"
  },
  {
    question: "Quote: I never heard of a _____ witch before!",
    answers: ["wicked", "orange", "beautiful", "fat", "witchy"],
    correct: "beautiful"
  },
  {
    question: "What kind of trees attacked Dorothy and her companions?",
    answers: ["peach", "plum", "almond", "avocado", "apple"],
    correct: "apple"
  },
  {
    question: "Who earned more per week?",
    answers: ["Munchkins", "Toto", "Flying Monkeys", "Liza Minelli", "extras"],
    correct: "Toto"
  },
  {
    question: "Of all the cast and crew, how many are alive today?",
    answers: ["5", "2", "1", "80", "0"],
    correct: "0"
  },
  {
    question: "What was the Cowardly Lion's costume made of?",
    answers: ["real lion", "leather", "cow hide", "polyester", "spandex"],
    correct: "real lion"
  },
  {
    question: "Quote: I'll get you, _____, and your little dog, too?",
    answers: [
      "my little one",
      "you skank",
      "my pretty",
      "earth girl",
      "Dorothy"
    ],
    correct: "my pretty"
  },
  {
    question:
      "Which Pink Floyd album can be synchronized with the film if you start it on the 3rd MGM lion roar?",
    answers: [
      "Ummagumma",
      " The Dark Side of the Moon",
      "The Wall",
      "The Division Bell",
      "A Momentary Lapse of Reason"
    ],
    correct: "The Dark Side of the Moon"
  },
  {
    question: "Who played Glinda, the Good Witch of the North?",
    answers: [
      "Billie Holiday",
      "Billie Burke",
      "Billy Joel",
      "Billy Eilish",
      "nobody"
    ],
    correct: "Billie Burke"
  },
  {
    question: "Who was the wizard?",
    answers: [
      "Dorothy's uncle",
      "the Wicked Witch's brother",
      "a fraud from Kansas",
      "an angry, bitter old man",
      "the Gnome King"
    ],
    correct: "a fraud from Kansas"
  }
];
var correctGif = [
  "assets/images/correct1.gif",
  "assets/images/correct2.gif",
  "assets/images/correct3.gif",
  "assets/images/correct4.gif",
  "assets/images/correct5.gif",
  "assets/images/correct6.gif",
  "assets/images/correct7.gif",
  "assets/images/correct8.gif",
  "assets/images/correct9.gif"
];
var incorrectGif = [
  "assets/images/wrong1.gif",
  "assets/images/wrong2.gif",
  "assets/images/wrong3.gif",
  "assets/images/wrong4.gif",
  "assets/images/wrong5.gif",
  "assets/images/wrong6.gif",
  "assets/images/wrong7.gif",
  "assets/images/wrong8.gif",
  "assets/images/wrong9.gif"
];
var correct = 0;
var incorrect = 0;
var currentQuestion = Math.floor(Math.random() * 28);
var timerValue;
var questionCounter = 0;

//this here will allow the user to see the questions and the answers on-screen
function questionToScreen() {
  timerCounter = 15;
  timerValue = setInterval(countDown, 1000);
  var questionToScreen = questions[currentQuestion].question;
  var answerToScreen = questions[currentQuestion].answers;
  $("#timer").text("Countdown: " + timerCounter);
  $("#mainGame").text(questionToScreen);

  for (var i = 0; i < answerToScreen.length; i++) {
    var answersHere = $("<p>");
    $(answersHere).attr("data-value", answerToScreen[i]);
    $(answersHere).addClass("answer-choices");
    $(answersHere).text(answerToScreen[i]);
    $("#mainGame").append(answersHere);
  }
}
questionToScreen();

//this here is a timer to count down seconds and what to do if user runs out of time
function countDown() {
  timerCounter--;
  $("#timer").text("Countdown: " + timerCounter);
  if (timerCounter === 0) {
    clearInterval(timerValue);
    incorrect++;
    questionCounter++;
    next();
  }
}

//this here ends the game and tells the user the score
function yourScore() {
  $("#mainGame").append("<p>Answered Correctly: " + correct + "</p>");
  $("#mainGame").append("<p>Answered Incorrectly: " + incorrect + "</p>");
  $("#mainGame").append("<p>Total Questions: " + questionCounter + "</p>");
  $("#mainGame").append("<button class='playAgain'>Play again</button>");
}

//this here will stop the game or move to the next question if the user hasn't reached 5 questions
function next() {
  if (questionCounter === 5) {
    $("#mainGame").empty();
    $("#timer").remove();
    yourScore();
  } else {
    currentQuestion++;
    questionToScreen();
  }
}

//this here allows the user to start the game again
$(document).on("click", ".playAgain", function() {
  correct = 0;
  incorrect = 0;
  questionCounter = 0;
  questionToScreen();
});

//this here is to handle the clicks on the answers and determine if it was right or not
$(document).on("click", ".answer-choices", function() {
  var chosenAnswer = $(this).attr("data-value");
  var correctAnswer = questions[currentQuestion].correct;
  if (correctAnswer === chosenAnswer) {
    correct++;
    clearInterval(timerValue);
    questionCounter++;
    images("win");
    setTimeout(next, 3 * 1000);
  } else {
    incorrect++;
    clearInterval(timerValue);
    questionCounter++;
    images("lose");
    setTimeout(next, 3 * 1000);
  }
});

//this here lets the user know if the answer was correct or incorrect and shows a gif
function images(winLose) {
  var goodAnswer = questions[currentQuestion].correctAnswer;
  if (winLose === "win") {
    var correctImage = Math.floor(Math.random() * correctGif.length);
    $("#mainGame").html(
      `<p>CORRECT!</p><img src=${correctGif[correctImage]} class="right">`
    );
    $("#timer").empty();
  } else {
    var incorrectImage = Math.floor(Math.random() * incorrectGif.length);
    $("#mainGame").html(
      `<p>WRONG!</p><img src=${incorrectGif[incorrectImage]} class="wrong">`
    );
    $("#timer").empty();
  }
}
